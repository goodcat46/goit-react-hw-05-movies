{"version":3,"file":"static/js/624.d5ec1375.chunk.js","mappings":"wQAGMA,EAAY,mCAAG,WAAMC,GAAN,uFACAC,EAAAA,EAAAA,IAAA,iBAA4BD,GAAW,CACxDE,OAAQ,CACNC,SAAUH,EACVI,QAASC,EAAAA,KAJM,cACbC,EADa,yBAOZA,EAAKA,MAPO,2CAAH,sDAUlB,ICZA,EAA+B,gCAA/B,EAA6E,+BAA7E,EAAqH,0BAArH,EAAyJ,2BAAzJ,EAA6L,0BAA7L,EAAkO,4BAAlO,EAAsQ,yBAAtQ,EAAsS,wB,SC+EtS,EAnEkB,WAAO,IAAD,IACtB,GAA0CC,EAAAA,EAAAA,YAA1C,eAAOC,EAAP,KAAsBC,EAAtB,KACQT,GAAYU,EAAAA,EAAAA,MAAZV,QAEFW,GAAWC,EAAAA,EAAAA,MAEXC,EAAY,qBADEC,EAAAA,EAAAA,QAAOH,GACMI,QAAQC,aAAvB,aAAG,EAA2BL,gBAA9B,QAA0C,IAEtDM,EAAmB,mCAAG,6GAEDlB,EAAaC,GAFZ,OAElBkB,EAFkB,OAGxBT,EAAiBS,GACjBC,QAAQC,IAAI,QAASF,GAJG,gDAMxBC,QAAQC,IAAR,MANwB,yDAAH,qDAezB,OALAC,EAAAA,EAAAA,YAAU,WACRJ,GAED,GAAE,IAEET,GAKH,iBAAKc,UAAWC,EAAhB,WACE,SAAC,KAAD,CAAMC,GAAIX,EAAV,sBACA,iBAAKS,UAAWC,EAAhB,WACE,gBAAKD,UAAWC,EAAhB,UACE,gBACEE,IAAG,iDAAqCjB,QAArC,IAAqCA,OAArC,EAAqCA,EAAekB,aACvDC,IAAI,cAIR,iBAAKL,UAAWC,EAAhB,WACE,cAAGD,UAAWC,EAAd,oBACA,cAAGD,UAAWC,EAAd,UACgB,OAAbf,QAAa,IAAbA,OAAA,EAAAA,EAAeoB,SAAf,OAAwBpB,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAeqB,SAE1C,cAAGP,UAAWC,EAAd,qBACA,cAAGD,UAAWC,EAAd,gBACGf,QADH,IACGA,OADH,EACGA,EAAesB,OAAOC,KAAI,SAAAC,GAAE,OAAIA,EAAGH,IAAP,IAAaI,KAAK,SAEjD,cAAGX,UAAWC,EAAd,uBACA,cAAGD,UAAWC,EAAd,gBAAyBf,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAe0B,kBAI5C,iBAAKZ,UAAWC,EAAhB,WACE,iBAAKD,UAAWC,EAAhB,WACE,SAAC,KAAD,CAASC,GAAG,OAAZ,UACE,sCAEF,SAAC,KAAD,CAASA,GAAG,UAAZ,UACE,4CAGJ,SAAC,KAAD,WArCG,iCAyCV,C","sources":["api/fetchById.js","webpack://react-homework-template/./src/components/MovieInfo/MovieInfo.module.css?df02","components/MovieInfo/MovieInfo.jsx"],"sourcesContent":["import fetchMovieApi from './moviesApi';\nimport { API_KEY } from './API_KEY';\n\nconst getFetchById = async movieId => {\n  const data = await fetchMovieApi.get(`/movie/${movieId}`, {\n    params: {\n      movie_id: movieId,\n      api_key: API_KEY,\n    },\n  });\n  return data.data;\n};\n\nexport default getFetchById;\n","// extracted by mini-css-extract-plugin\nexport default {\"movieInfoBox\":\"MovieInfo_movieInfoBox__EyyTm\",\"mainInfoBox\":\"MovieInfo_mainInfoBox__uEGfj\",\"imgBox\":\"MovieInfo_imgBox__O5OJd\",\"infoBox\":\"MovieInfo_infoBox__Pubuc\",\"navBox\":\"MovieInfo_navBox__iznKP\",\"navigate\":\"MovieInfo_navigate__8u4Kn\",\"title\":\"MovieInfo_title__oNnRW\",\"text\":\"MovieInfo_text__g5gK6\"};","import React, { useEffect, useState, useRef } from 'react';\n\nimport {\n  Link,\n  NavLink,\n  Outlet,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport getFetchById from 'api/fetchById';\n\nimport css from './MovieInfo.module.css';\n\nconst MovieInfo = () => {\n  const [loadMovieInfo, setLoadMovieInfo] = useState();\n  const { movieId } = useParams();\n\n  const location = useLocation();\n  const refLocation = useRef(location);\n  const backLinkPath = refLocation.current.state?.location ?? '/';\n\n  const getFetchedMovieInfo = async () => {\n    try {\n      const response = await getFetchById(movieId);\n      setLoadMovieInfo(response);\n      console.log('movie', response);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getFetchedMovieInfo();\n    // eslint-disable-next-line\n  }, []);\n\n  if (!loadMovieInfo) {\n    return <p>Ooops!</p>;\n  }\n\n  return (\n    <div className={css.movieInfoBox}>\n      <Link to={backLinkPath}>Go back</Link>\n      <div className={css.mainInfoBox}>\n        <div className={css.imgBox}>\n          <img\n            src={`https://image.tmdb.org/t/p/w500/${loadMovieInfo?.poster_path}`}\n            alt=\"poster\"\n          />\n        </div>\n\n        <div className={css.infoBox}>\n          <p className={css.title}>Title</p>\n          <p className={css.text}>\n            {loadMovieInfo?.title || loadMovieInfo?.name}\n          </p>\n          <p className={css.title}>Genres</p>\n          <p className={css.text}>\n            {loadMovieInfo?.genres.map(el => el.name).join(', ')}\n          </p>\n          <p className={css.title}>Overview</p>\n          <p className={css.text}>{loadMovieInfo?.overview}</p>\n        </div>\n      </div>\n\n      <div className={css.navBox}>\n        <nav className={css.navigate}>\n          <NavLink to=\"cast\">\n            <span>Cast</span>\n          </NavLink>\n          <NavLink to=\"reviews\">\n            <span>Reviews</span>\n          </NavLink>\n        </nav>\n        <Outlet />\n      </div>\n    </div>\n  );\n};\n\nexport default MovieInfo;\n"],"names":["getFetchById","movieId","fetchMovieApi","params","movie_id","api_key","API_KEY","data","useState","loadMovieInfo","setLoadMovieInfo","useParams","location","useLocation","backLinkPath","useRef","current","state","getFetchedMovieInfo","response","console","log","useEffect","className","css","to","src","poster_path","alt","title","name","genres","map","el","join","overview"],"sourceRoot":""}